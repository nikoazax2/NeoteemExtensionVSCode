"use strict";var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ur=P((Vc,or)=>{"use strict";var oe=require("vscode"),{exec:qi}=require("child_process");async function ji(e){let t=oe.workspace.workspaceFolders[0].uri.path.split("/")[oe.workspace.workspaceFolders[0].uri.path.split("/").length-1],r=oe.workspace.getConfiguration("NeoteemExtension"),s=r.get("urlBBFront"),n=r.get("urlBBBack"),i=`https://bitbucket.org/${s}/${t}/branches/?status=all`,a=`https://bitbucket.org/${n}/${t}/branches/?status=all`,o=oe.commands.registerCommand("extension.openBitbucketRepo",async()=>{let h=r.get("chromeProfile"),p="C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe",l;JSON.parse(r.get("nomsBBBack")).includes(t)?l=`"${p}" --profile-directory="${h}" "${a}"`:l=`"${p}" --profile-directory="${h}" "${i}"`,qi(l,(m,E,A)=>{m?console.error(`Error opening Chrome: ${m.message}`):console.log(`Chrome opened with profile: ${h}`)})}),f=oe.window.createStatusBarItem(oe.StatusBarAlignment.Left,1e5);f.text=`$(github-inverted)  Bitbucket ${t}`,f.tooltip=`Ouvrir le repo Bitbucket ${t}`,f.command="extension.openBitbucketRepo",f.show(),e.subscriptions.push(f,o)}or.exports={OuvrirProjetBB:ji}});var lr=P((Jc,cr)=>{var ue=1e3,ce=ue*60,le=ce*60,ee=le*24,Bi=ee*7,Di=ee*365.25;cr.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Ni(e);if(r==="number"&&isFinite(e))return t.long?Gi(e):$i(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Ni(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*Di;case"weeks":case"week":case"w":return r*Bi;case"days":case"day":case"d":return r*ee;case"hours":case"hour":case"hrs":case"hr":case"h":return r*le;case"minutes":case"minute":case"mins":case"min":case"m":return r*ce;case"seconds":case"second":case"secs":case"sec":case"s":return r*ue;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function $i(e){var t=Math.abs(e);return t>=ee?Math.round(e/ee)+"d":t>=le?Math.round(e/le)+"h":t>=ce?Math.round(e/ce)+"m":t>=ue?Math.round(e/ue)+"s":e+"ms"}function Gi(e){var t=Math.abs(e);return t>=ee?Me(e,t,ee,"day"):t>=le?Me(e,t,le,"hour"):t>=ce?Me(e,t,ce,"minute"):t>=ue?Me(e,t,ue,"second"):e+" ms"}function Me(e,t,r,s){var n=t>=r*1.5;return Math.round(e/r)+" "+s+(n?"s":"")}});var ut=P((Qc,pr)=>{function Ui(e){r.debug=r,r.default=r,r.coerce=f,r.disable=i,r.enable=n,r.enabled=a,r.humanize=lr(),r.destroy=h,Object.keys(e).forEach(p=>{r[p]=e[p]}),r.names=[],r.skips=[],r.formatters={};function t(p){let l=0;for(let d=0;d<p.length;d++)l=(l<<5)-l+p.charCodeAt(d),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=t;function r(p){let l,d=null,m,E;function A(...I){if(!A.enabled)return;let V=A,ie=Number(new Date),nt=ie-(l||ie);V.diff=nt,V.prev=l,V.curr=ie,l=ie,I[0]=r.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let ae=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(ge,it)=>{if(ge==="%%")return"%";ae++;let Ie=r.formatters[it];if(typeof Ie=="function"){let at=I[ae];ge=Ie.call(V,at),I.splice(ae,1),ae--}return ge}),r.formatArgs.call(V,I),(V.log||r.log).apply(V,I)}return A.namespace=p,A.useColors=r.useColors(),A.color=r.selectColor(p),A.extend=s,A.destroy=r.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(m!==r.namespaces&&(m=r.namespaces,E=r.enabled(p)),E),set:I=>{d=I}}),typeof r.init=="function"&&r.init(A),A}function s(p,l){let d=r(this.namespace+(typeof l>"u"?":":l)+p);return d.log=this.log,d}function n(p){r.save(p),r.namespaces=p,r.names=[],r.skips=[];let l,d=(typeof p=="string"?p:"").split(/[\s,]+/),m=d.length;for(l=0;l<m;l++)d[l]&&(p=d[l].replace(/\*/g,".*?"),p[0]==="-"?r.skips.push(new RegExp("^"+p.slice(1)+"$")):r.names.push(new RegExp("^"+p+"$")))}function i(){let p=[...r.names.map(o),...r.skips.map(o).map(l=>"-"+l)].join(",");return r.enable(""),p}function a(p){if(p[p.length-1]==="*")return!0;let l,d;for(l=0,d=r.skips.length;l<d;l++)if(r.skips[l].test(p))return!1;for(l=0,d=r.names.length;l<d;l++)if(r.names[l].test(p))return!0;return!1}function o(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function f(p){return p instanceof Error?p.stack||p.message:p}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}pr.exports=Ui});var fr=P((B,Pe)=>{B.formatArgs=Hi;B.save=Wi;B.load=Yi;B.useColors=zi;B.storage=Vi();B.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();B.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function zi(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Hi(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Pe.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,s=0;e[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(s=r))}),e.splice(s,0,t)}B.log=console.debug||console.log||(()=>{});function Wi(e){try{e?B.storage.setItem("debug",e):B.storage.removeItem("debug")}catch{}}function Yi(){let e;try{e=B.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function Vi(){try{return localStorage}catch{}}Pe.exports=ut()(B);var{formatters:Ji}=Pe.exports;Ji.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var dr=P((Xc,hr)=>{"use strict";hr.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",s=t.indexOf(r+e),n=t.indexOf("--");return s!==-1&&(n===-1||s<n)}});var wr=P((Kc,gr)=>{"use strict";var Qi=require("os"),mr=require("tty"),G=dr(),{env:R}=process,Le;G("no-color")||G("no-colors")||G("color=false")||G("color=never")?Le=0:(G("color")||G("colors")||G("color=true")||G("color=always"))&&(Le=1);function Xi(){if("FORCE_COLOR"in R)return R.FORCE_COLOR==="true"?1:R.FORCE_COLOR==="false"?0:R.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(R.FORCE_COLOR,10),3)}function Ki(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Zi(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let s=Xi();s!==void 0&&(Le=s);let n=r?Le:s;if(n===0)return 0;if(r){if(G("color=16m")||G("color=full")||G("color=truecolor"))return 3;if(G("color=256"))return 2}if(e&&!t&&n===void 0)return 0;let i=n||0;if(R.TERM==="dumb")return i;if(process.platform==="win32"){let a=Qi.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in R)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(a=>a in R)||R.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in R)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(R.TEAMCITY_VERSION)?1:0;if(R.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in R){let a=Number.parseInt((R.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(R.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(R.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(R.TERM)||"COLORTERM"in R?1:i}function ct(e,t={}){let r=Zi(e,{streamIsTTY:e&&e.isTTY,...t});return Ki(r)}gr.exports={supportsColor:ct,stdout:ct({isTTY:mr.isatty(1)}),stderr:ct({isTTY:mr.isatty(2)})}});var _r=P((x,je)=>{var ea=require("tty"),qe=require("util");x.init=oa;x.log=na;x.formatArgs=ra;x.save=ia;x.load=aa;x.useColors=ta;x.destroy=qe.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");x.colors=[6,2,3,4,5,1];try{let e=wr();e&&(e.stderr||e).level>=2&&(x.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}x.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(n,i)=>i.toUpperCase()),s=process.env[t];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),e[r]=s,e},{});function ta(){return"colors"in x.inspectOpts?!!x.inspectOpts.colors:ea.isatty(process.stderr.fd)}function ra(e){let{namespace:t,useColors:r}=this;if(r){let s=this.color,n="\x1B[3"+(s<8?s:"8;5;"+s),i=`  ${n};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(n+"m+"+je.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=sa()+t+" "+e[0]}function sa(){return x.inspectOpts.hideDate?"":new Date().toISOString()+" "}function na(...e){return process.stderr.write(qe.format(...e)+`
`)}function ia(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function aa(){return process.env.DEBUG}function oa(e){e.inspectOpts={};let t=Object.keys(x.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=x.inspectOpts[t[r]]}je.exports=ut()(x);var{formatters:vr}=je.exports;vr.o=function(e){return this.inspectOpts.colors=this.useColors,qe.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};vr.O=function(e){return this.inspectOpts.colors=this.useColors,qe.inspect(e,this.inspectOpts)}});var pt=P((Zc,lt)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?lt.exports=fr():lt.exports=_r()});var br=P(D=>{"use strict";var ua=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D,"__esModule",{value:!0});var ca=require("fs"),la=ua(pt()),pe=la.default("@kwsites/file-exists");function pa(e,t,r){pe("checking %s",e);try{let s=ca.statSync(e);return s.isFile()&&t?(pe("[OK] path represents a file"),!0):s.isDirectory()&&r?(pe("[OK] path represents a directory"),!0):(pe("[FAIL] path represents something other than a file or directory"),!1)}catch(s){if(s.code==="ENOENT")return pe("[FAIL] path is not accessible: %o",s),!1;throw pe("[FATAL] %o",s),s}}function fa(e,t=D.READABLE){return pa(e,(t&D.FILE)>0,(t&D.FOLDER)>0)}D.exists=fa;D.FILE=1;D.FOLDER=2;D.READABLE=D.FILE+D.FOLDER});var yr=P(Be=>{"use strict";function ha(e){for(var t in e)Be.hasOwnProperty(t)||(Be[t]=e[t])}Object.defineProperty(Be,"__esModule",{value:!0});ha(br())});var ht=P(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.createDeferred=te.deferred=void 0;function ft(){let e,t,r="pending";return{promise:new Promise((n,i)=>{e=n,t=i}),done(n){r==="pending"&&(r="resolved",e(n))},fail(n){r==="pending"&&(r="rejected",t(n))},get fulfilled(){return r!=="pending"},get status(){return r}}}te.deferred=ft;te.createDeferred=ft;te.default=ft});var ci=P((sl,ui)=>{var da=Object.create,Se=Object.defineProperty,ma=Object.defineProperties,ga=Object.getOwnPropertyDescriptor,wa=Object.getOwnPropertyDescriptors,It=Object.getOwnPropertyNames,kr=Object.getOwnPropertySymbols,va=Object.getPrototypeOf,ts=Object.prototype.hasOwnProperty,_a=Object.prototype.propertyIsEnumerable,Tr=(e,t,r)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,U=(e,t)=>{for(var r in t||(t={}))ts.call(t,r)&&Tr(e,r,t[r]);if(kr)for(var r of kr(t))_a.call(t,r)&&Tr(e,r,t[r]);return e},_e=(e,t)=>ma(e,wa(t)),rs=e=>Se(e,"__esModule",{value:!0}),u=(e,t)=>function(){return e&&(t=(0,e[It(e)[0]])(e=0)),t},ba=(e,t)=>function(){return t||(0,e[It(e)[0]])((t={exports:{}}).exports,t),t.exports},C=(e,t)=>{for(var r in t)Se(e,r,{get:t[r],enumerable:!0})},ss=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of It(t))!ts.call(e,n)&&(r||n!=="default")&&Se(e,n,{get:()=>t[n],enumerable:!(s=ga(t,n))||s.enumerable});return e},ya=(e,t)=>ss(rs(Se(e!=null?da(va(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),k=(e=>(t,r)=>e&&e.get(t)||(r=ss(rs({}),t,1),e&&e.set(t,r),r))(typeof WeakMap<"u"?new WeakMap:0),ve=(e,t,r)=>new Promise((s,n)=>{var i=f=>{try{o(r.next(f))}catch(h){n(h)}},a=f=>{try{o(r.throw(f))}catch(h){n(h)}},o=f=>f.done?s(f.value):Promise.resolve(f.value).then(i,a);o((r=r.apply(e,t)).next())}),W,K=u({"src/lib/errors/git-error.ts"(){W=class extends Error{constructor(e,t){super(t),this.task=e,Object.setPrototypeOf(this,new.target.prototype)}}}}),se,me=u({"src/lib/errors/git-response-error.ts"(){K(),se=class extends W{constructor(e,t){super(void 0,t||String(e)),this.git=e}}}});function ns(...e){let t=new String(e);return Je.set(t,e),t}function ze(e){return e instanceof String&&Je.has(e)}function Cr(e){return Je.get(e)||[]}var Je,Oe=u({"src/lib/args/pathspec.ts"(){Je=new WeakMap}}),Mt,ka=u({"src/lib/errors/git-construct-error.ts"(){K(),Mt=class extends W{constructor(e,t){super(void 0,t),this.config=e}}}}),J,Qe=u({"src/lib/errors/git-plugin-error.ts"(){K(),J=class extends W{constructor(e,t,r){super(e,r),this.task=e,this.plugin=t,Object.setPrototypeOf(this,new.target.prototype)}}}}),Pt,is=u({"src/lib/errors/task-configuration-error.ts"(){K(),Pt=class extends W{constructor(e){super(void 0,e)}}}});function as(e){return typeof e=="function"?e:ne}function os(e){return typeof e=="function"&&e!==ne}function us(e,t){let r=e.indexOf(t);return r<=0?[e,""]:[e.substr(0,r),e.substr(r+1)]}function cs(e,t=0){return ls(e)&&e.length>t?e[t]:void 0}function re(e,t=0){if(ls(e)&&e.length>t)return e[e.length-1-t]}function ls(e){return!!(e&&typeof e.length=="number")}function Re(e="",t=!0,r=`
`){return e.split(r).reduce((s,n)=>{let i=t?n.trim():n;return i&&s.push(i),s},[])}function Lt(e,t){return Re(e,!0).map(r=>t(r))}function qt(e){return(0,bt.exists)(e,bt.FOLDER)}function b(e,t){return Array.isArray(e)?e.includes(t)||e.push(t):e.add(t),t}function ps(e,t){return Array.isArray(e)&&!e.includes(t)&&e.push(t),e}function Xe(e,t){if(Array.isArray(e)){let r=e.indexOf(t);r>=0&&e.splice(r,1)}else e.delete(t);return t}function X(e){return Array.isArray(e)?e:[e]}function fs(e){return X(e).map(String)}function T(e,t=0){if(e==null)return t;let r=parseInt(e,10);return isNaN(r)?t:r}function ke(e,t){let r=[];for(let s=0,n=e.length;s<n;s++)r.push(t,e[s]);return r}function Te(e){return(Array.isArray(e)?Buffer.concat(e):e).toString("utf-8")}function hs(e,t){return Object.assign({},...t.map(r=>r in e?{[r]:e[r]}:{}))}function _t(e=0){return new Promise(t=>setTimeout(t,e))}var bt,de,ne,Ee,Ke=u({"src/lib/utils/util.ts"(){bt=yr(),de="\0",ne=()=>{},Ee=Object.prototype.toString.call.bind(Object.prototype.toString)}});function Y(e,t,r){return t(e)?e:arguments.length>2?r:void 0}function jt(e,t){let r=ze(e)?"string":typeof e;return/number|string|boolean/.test(r)&&(!t||!t.includes(r))}function Bt(e){return!!e&&Ee(e)==="[object Object]"}function ds(e){return typeof e=="function"}var xe,F,ms,He,Dt,gs=u({"src/lib/utils/argument-filters.ts"(){Ke(),Oe(),xe=e=>Array.isArray(e),F=e=>typeof e=="string",ms=e=>Array.isArray(e)&&e.every(F),He=e=>F(e)||Array.isArray(e)&&e.every(F),Dt=e=>e==null||"number|boolean|function".includes(typeof e)?!1:Array.isArray(e)||typeof e=="string"||typeof e.length=="number"}}),yt,Ta=u({"src/lib/utils/exit-codes.ts"(){yt=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.NOT_FOUND=-2]="NOT_FOUND",e[e.UNCLEAN=128]="UNCLEAN",e))(yt||{})}}),Ce,Ca=u({"src/lib/utils/git-output-streams.ts"(){Ce=class{constructor(e,t){this.stdOut=e,this.stdErr=t}asStrings(){return new Ce(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),_,Q,Sa=u({"src/lib/utils/line-parser.ts"(){_=class{constructor(e,t){this.matches=[],this.parse=(r,s)=>(this.resetMatches(),this._regExp.every((n,i)=>this.addMatch(n,i,r(i)))?this.useMatches(s,this.prepareMatches())!==!1:!1),this._regExp=Array.isArray(e)?e:[e],t&&(this.useMatches=t)}useMatches(e,t){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(e,t,r){let s=r&&e.exec(r);return s&&this.pushMatch(t,s),!!s}pushMatch(e,t){this.matches.push(...t.slice(1))}},Q=class extends _{addMatch(e,t,r){return/^remote:\s/.test(String(r))&&super.addMatch(e,t,r)}pushMatch(e,t){(e>0||t.length>1)&&super.pushMatch(e,t)}}}});function ws(...e){let t=process.cwd(),r=Object.assign(U({baseDir:t},vs),...e.filter(s=>typeof s=="object"&&s));return r.baseDir=r.baseDir||t,r.trimmed=r.trimmed===!0,r}var vs,Oa=u({"src/lib/utils/simple-git-options.ts"(){vs={binary:"git",maxConcurrentProcesses:5,config:[],trimmed:!1}}});function Nt(e,t=[]){return Bt(e)?Object.keys(e).reduce((r,s)=>{let n=e[s];return ze(n)?r.push(n):jt(n,["boolean"])?r.push(s+"="+n):r.push(s),r},t):t}function L(e,t=0,r=!1){let s=[];for(let n=0,i=t<0?e.length:t;n<i;n++)"string|number".includes(typeof e[n])&&s.push(String(e[n]));return Nt($t(e),s),r||s.push(...Ra(e)),s}function Ra(e){let t=typeof re(e)=="function";return Y(re(e,t?1:0),xe,[])}function $t(e){let t=ds(re(e));return Y(re(e,t?1:0),Bt)}function S(e,t=!0){let r=as(re(e));return t||os(r)?r:void 0}var Ea=u({"src/lib/utils/task-options.ts"(){gs(),Ke(),Oe()}});function kt(e,t){return e(t.stdOut,t.stdErr)}function $(e,t,r,s=!0){return X(r).forEach(n=>{for(let i=Re(n,s),a=0,o=i.length;a<o;a++){let f=(h=0)=>{if(!(a+h>=o))return i[a+h]};t.some(({parse:h})=>h(f,e))}}),e}var xa=u({"src/lib/utils/task-parser.ts"(){Ke()}}),_s={};C(_s,{ExitCodes:()=>yt,GitOutputStreams:()=>Ce,LineParser:()=>_,NOOP:()=>ne,NULL:()=>de,RemoteLineParser:()=>Q,append:()=>b,appendTaskOptions:()=>Nt,asArray:()=>X,asFunction:()=>as,asNumber:()=>T,asStringArray:()=>fs,bufferToString:()=>Te,callTaskParser:()=>kt,createInstanceConfig:()=>ws,delay:()=>_t,filterArray:()=>xe,filterFunction:()=>ds,filterHasLength:()=>Dt,filterPlainObject:()=>Bt,filterPrimitives:()=>jt,filterString:()=>F,filterStringArray:()=>ms,filterStringOrStringArray:()=>He,filterType:()=>Y,first:()=>cs,folderExists:()=>qt,forEachLineWithContent:()=>Lt,getTrailingOptions:()=>L,including:()=>ps,isUserFunction:()=>os,last:()=>re,objectToString:()=>Ee,parseStringResponse:()=>$,pick:()=>hs,prefixedArray:()=>ke,remove:()=>Xe,splitOn:()=>us,toLinesWithContent:()=>Re,trailingFunctionArgument:()=>S,trailingOptionsArgument:()=>$t});var v=u({"src/lib/utils/index.ts"(){gs(),Ta(),Ca(),Sa(),Oa(),Ea(),xa(),Ke()}}),bs={};C(bs,{CheckRepoActions:()=>We,checkIsBareRepoTask:()=>ks,checkIsRepoRootTask:()=>ys,checkIsRepoTask:()=>Aa});function Aa(e){switch(e){case"bare":return ks();case"root":return ys()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:Ze,parser:Gt}}function ys(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:Ze,parser(t){return/^\.(git)?$/.test(t.trim())}}}function ks(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:Ze,parser:Gt}}function Fa(e){return/(Not a git repository|Kein Git-Repository)/i.test(String(e))}var We,Ze,Gt,Ts=u({"src/lib/tasks/check-is-repo.ts"(){v(),We=(e=>(e.BARE="bare",e.IN_TREE="tree",e.IS_REPO_ROOT="root",e))(We||{}),Ze=({exitCode:e},t,r,s)=>{if(e===128&&Fa(t))return r(Buffer.from("false"));s(t)},Gt=e=>e.trim()==="true"}});function Ia(e,t){let r=new Cs(e),s=e?Os:Ss;return Re(t).forEach(n=>{let i=n.replace(s,"");r.paths.push(i),(Rs.test(i)?r.folders:r.files).push(i)}),r}var Cs,Ss,Os,Rs,Ma=u({"src/lib/responses/CleanSummary.ts"(){v(),Cs=class{constructor(e){this.dryRun=e,this.paths=[],this.files=[],this.folders=[]}},Ss=/^[a-z]+\s*/i,Os=/^[a-z]+\s+[a-z]+\s*/i,Rs=/\/$/}}),Tt={};C(Tt,{EMPTY_COMMANDS:()=>et,adhocExecTask:()=>Es,configurationErrorTask:()=>q,isBufferTask:()=>As,isEmptyTask:()=>Fs,straightThroughBufferTask:()=>xs,straightThroughStringTask:()=>j});function Es(e){return{commands:et,format:"empty",parser:e}}function q(e){return{commands:et,format:"empty",parser(){throw typeof e=="string"?new Pt(e):e}}}function j(e,t=!1){return{commands:e,format:"utf-8",parser(r){return t?String(r).trim():r}}}function xs(e){return{commands:e,format:"buffer",parser(t){return t}}}function As(e){return e.format==="buffer"}function Fs(e){return e.format==="empty"||!e.commands.length}var et,O=u({"src/lib/tasks/task.ts"(){is(),et=[]}}),Is={};C(Is,{CONFIG_ERROR_INTERACTIVE_MODE:()=>Ut,CONFIG_ERROR_MODE_REQUIRED:()=>zt,CONFIG_ERROR_UNKNOWN_OPTION:()=>Ht,CleanOptions:()=>be,cleanTask:()=>Ms,cleanWithOptionsTask:()=>Pa,isCleanOptionsArray:()=>La});function Pa(e,t){let{cleanMode:r,options:s,valid:n}=qa(e);return r?n.options?(s.push(...t),s.some(Da)?q(Ut):Ms(r,s)):q(Ht+JSON.stringify(e)):q(zt)}function Ms(e,t){return{commands:["clean",`-${e}`,...t],format:"utf-8",parser(s){return Ia(e==="n",s)}}}function La(e){return Array.isArray(e)&&e.every(t=>Wt.has(t))}function qa(e){let t,r=[],s={cleanMode:!1,options:!0};return e.replace(/[^a-z]i/g,"").split("").forEach(n=>{ja(n)?(t=n,s.cleanMode=!0):s.options=s.options&&Ba(r[r.length]=`-${n}`)}),{cleanMode:t,options:r,valid:s}}function ja(e){return e==="f"||e==="n"}function Ba(e){return/^-[a-z]$/i.test(e)&&Wt.has(e.charAt(1))}function Da(e){return/^-[^\-]/.test(e)?e.indexOf("i")>0:e==="--interactive"}var Ut,zt,Ht,be,Wt,Ps=u({"src/lib/tasks/clean.ts"(){Ma(),v(),O(),Ut="Git clean interactive mode is not supported",zt='Git clean mode parameter ("n" or "f") is required',Ht="Git clean unknown option found in: ",be=(e=>(e.DRY_RUN="n",e.FORCE="f",e.IGNORED_INCLUDED="x",e.IGNORED_ONLY="X",e.EXCLUDING="e",e.QUIET="q",e.RECURSIVE="d",e))(be||{}),Wt=new Set(["i",...fs(Object.values(be))])}});function Na(e){let t=new qs;for(let r of Ls(e))t.addValue(r.file,String(r.key),r.value);return t}function $a(e,t){let r=null,s=[],n=new Map;for(let i of Ls(e,t))i.key===t&&(s.push(r=i.value),n.has(i.file)||n.set(i.file,[]),n.get(i.file).push(r));return{key:t,paths:Array.from(n.keys()),scopes:n,value:r,values:s}}function Ga(e){return e.replace(/^(file):/,"")}function*Ls(e,t=null){let r=e.split("\0");for(let s=0,n=r.length-1;s<n;){let i=Ga(r[s++]),a=r[s++],o=t;if(a.includes(`
`)){let f=us(a,`
`);o=f[0],a=f[1]}yield{file:i,key:o,value:a}}}var qs,Ua=u({"src/lib/responses/ConfigList.ts"(){v(),qs=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce((e,t)=>Object.assign(e,this.values[t]),{})),this._all}addFile(e){if(!(e in this.values)){let t=re(this.files);this.values[e]=t?Object.create(this.values[t]):{},this.files.push(e)}return this.values[e]}addValue(e,t,r){let s=this.addFile(e);s.hasOwnProperty(t)?Array.isArray(s[t])?s[t].push(r):s[t]=[s[t],r]:s[t]=r,this._all=void 0}}}});function dt(e,t){return typeof e=="string"&&Ye.hasOwnProperty(e)?e:t}function za(e,t,r,s){let n=["config",`--${s}`];return r&&n.push("--add"),n.push(e,t),{commands:n,format:"utf-8",parser(i){return i}}}function Ha(e,t){let r=["config","--null","--show-origin","--get-all",e];return t&&r.splice(1,0,`--${t}`),{commands:r,format:"utf-8",parser(s){return $a(s,e)}}}function Wa(e){let t=["config","--list","--show-origin","--null"];return e&&t.push(`--${e}`),{commands:t,format:"utf-8",parser(r){return Na(r)}}}function Ya(){return{addConfig(e,t,...r){return this._runTask(za(e,t,r[0]===!0,dt(r[1],"local")),S(arguments))},getConfig(e,t){return this._runTask(Ha(e,dt(t,void 0)),S(arguments))},listConfig(...e){return this._runTask(Wa(dt(e[0],void 0)),S(arguments))}}}var Ye,js=u({"src/lib/tasks/config.ts"(){Ua(),v(),Ye=(e=>(e.system="system",e.global="global",e.local="local",e.worktree="worktree",e))(Ye||{})}});function Bs(...e){return new Ns().param(...e)}function Va(e){let t=new Set,r={};return Lt(e,s=>{let[n,i,a]=s.split(de);t.add(n),(r[n]=r[n]||[]).push({line:T(i),path:n,preview:a})}),{paths:t,results:r}}function Ja(){return{grep(e){let t=S(arguments),r=L(arguments);for(let n of Ds)if(r.includes(n))return this._runTask(q(`git.grep: use of "${n}" is not supported.`),t);typeof e=="string"&&(e=Bs().param(e));let s=["grep","--null","-n","--full-name",...r,...e];return this._runTask({commands:s,format:"utf-8",parser(n){return Va(n)}},t)}}}var Ds,we,Sr,Ns,$s=u({"src/lib/tasks/grep.ts"(){v(),O(),Ds=["-h"],we=Symbol("grepQuery"),Ns=class{constructor(){this[Sr]=[]}*[(Sr=we,Symbol.iterator)](){for(let e of this[we])yield e}and(...e){return e.length&&this[we].push("--and","(",...ke(e,"-e"),")"),this}param(...e){return this[we].push(...ke(e,"-e")),this}}}}),Gs={};C(Gs,{ResetMode:()=>ye,getResetMode:()=>Xa,resetTask:()=>Qa});function Qa(e,t){let r=["reset"];return Us(e)&&r.push(`--${e}`),r.push(...t),j(r)}function Xa(e){if(Us(e))return e;switch(typeof e){case"string":case"undefined":return"soft"}}function Us(e){return zs.includes(e)}var ye,zs,Hs=u({"src/lib/tasks/reset.ts"(){O(),ye=(e=>(e.MIXED="mixed",e.SOFT="soft",e.HARD="hard",e.MERGE="merge",e.KEEP="keep",e))(ye||{}),zs=Array.from(Object.values(ye))}}),Ws={};C(Ws,{CheckRepoActions:()=>We,CleanOptions:()=>be,GitConfigScope:()=>Ye,GitConstructError:()=>Mt,GitError:()=>W,GitPluginError:()=>J,GitResponseError:()=>se,ResetMode:()=>ye,TaskConfigurationError:()=>Pt,grepQueryBuilder:()=>Bs,pathspec:()=>ns});var Ka=u({"src/lib/api.ts"(){Oe(),ka(),K(),Qe(),me(),is(),Ts(),Ps(),js(),$s(),Hs()}});function Za(e){return e?[{type:"spawn.before",action(s,n){e.aborted&&n.kill(new J(void 0,"abort","Abort already signaled"))}},{type:"spawn.after",action(s,n){function i(){n.kill(new J(void 0,"abort","Abort signal received"))}e.addEventListener("abort",i),n.spawned.on("close",()=>e.removeEventListener("abort",i))}}]:void 0}var eo=u({"src/lib/plugins/abort-plugin.ts"(){Qe()}});function to(e){return typeof e=="string"&&e.trim().toLowerCase()==="-c"}function ro(e,t){if(to(e)&&/^\s*protocol(.[a-z]+)?.allow/.test(t))throw new J(void 0,"unsafe","Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol")}function so(e,t){if(/^\s*--(upload|receive)-pack/.test(e))throw new J(void 0,"unsafe","Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack");if(t==="clone"&&/^\s*-u\b/.test(e))throw new J(void 0,"unsafe","Use of clone with option -u is not permitted without enabling allowUnsafePack");if(t==="push"&&/^\s*--exec\b/.test(e))throw new J(void 0,"unsafe","Use of push with option --exec is not permitted without enabling allowUnsafePack")}function no({allowUnsafeProtocolOverride:e=!1,allowUnsafePack:t=!1}={}){return{type:"spawn.args",action(r,s){return r.forEach((n,i)=>{let a=i<r.length?r[i+1]:"";e||ro(n,a),t||so(n,s.method)}),r}}}var io=u({"src/lib/plugins/block-unsafe-operations-plugin.ts"(){Qe()}});function ao(e){let t=ke(e,"-c");return{type:"spawn.args",action(r){return[...t,...r]}}}var oo=u({"src/lib/plugins/command-config-prefixing-plugin.ts"(){v()}});function uo({onClose:e=!0,onExit:t=50}={}){function r(){let n=-1,i={close:(0,he.deferred)(),closeTimeout:(0,he.deferred)(),exit:(0,he.deferred)(),exitTimeout:(0,he.deferred)()},a=Promise.race([e===!1?Ct:i.closeTimeout.promise,t===!1?Ct:i.exitTimeout.promise]);return s(e,i.close,i.closeTimeout),s(t,i.exit,i.exitTimeout),{close(o){n=o,i.close.done()},exit(o){n=o,i.exit.done()},get exitCode(){return n},result:a}}function s(n,i,a){n!==!1&&(n===!0?i.promise:i.promise.then(()=>_t(n))).then(a.done)}return{type:"spawn.after",action(n,i){return ve(this,arguments,function*(a,{spawned:o,close:f}){var h,p;let l=r(),d=!0,m=()=>void(d=!1);(h=o.stdout)==null||h.on("data",m),(p=o.stderr)==null||p.on("data",m),o.on("error",m),o.on("close",E=>l.close(E)),o.on("exit",E=>l.exit(E));try{yield l.result,d&&(yield _t(50)),f(l.exitCode)}catch(E){f(l.exitCode,E)}})}}}var he,Ct,co=u({"src/lib/plugins/completion-detection.plugin.ts"(){he=ht(),v(),Ct=(0,he.deferred)().promise}});function lo(e){return!!(e.exitCode&&e.stdErr.length)}function po(e){return Buffer.concat([...e.stdOut,...e.stdErr])}function fo(e=!1,t=lo,r=po){return(s,n)=>!e&&s||!t(n)?s:r(n)}function Or(e){return{type:"task.error",action(t,r){let s=e(t.error,{stdErr:r.stdErr,stdOut:r.stdOut,exitCode:r.exitCode});return Buffer.isBuffer(s)?{error:new W(void 0,s.toString("utf-8"))}:{error:s}}}}var ho=u({"src/lib/plugins/error-detection.plugin.ts"(){K()}}),Ys,mo=u({"src/lib/plugins/plugin-store.ts"(){v(),Ys=class{constructor(){this.plugins=new Set}add(e){let t=[];return X(e).forEach(r=>r&&this.plugins.add(b(t,r))),()=>{t.forEach(r=>this.plugins.delete(r))}}exec(e,t,r){let s=t,n=Object.freeze(Object.create(r));for(let i of this.plugins)i.type===e&&(s=i.action(s,n));return s}}}});function go(e){let t="--progress",r=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action(i,a){return r.includes(a.method)?ps(i,t):i}},{type:"spawn.after",action(i,a){var o;a.commands.includes(t)&&((o=a.spawned.stderr)==null||o.on("data",f=>{let h=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(f.toString("utf8"));h&&e({method:a.method,stage:wo(h[1]),progress:T(h[2]),processed:T(h[3]),total:T(h[4])})}))}}]}function wo(e){return String(e.toLowerCase().split(" ",1))||"unknown"}var vo=u({"src/lib/plugins/progress-monitor-plugin.ts"(){v()}}),_o=u({"src/lib/plugins/simple-git-plugin.ts"(){}});function bo(e){let t=hs(e,["uid","gid"]);return{type:"spawn.options",action(r){return U(U({},t),r)}}}var yo=u({"src/lib/plugins/spawn-options-plugin.ts"(){v()}});function ko({block:e,stdErr:t=!0,stdOut:r=!0}){if(e>0)return{type:"spawn.after",action(s,n){var i,a;let o;function f(){o&&clearTimeout(o),o=setTimeout(p,e)}function h(){var l,d;(l=n.spawned.stdout)==null||l.off("data",f),(d=n.spawned.stderr)==null||d.off("data",f),n.spawned.off("exit",h),n.spawned.off("close",h),o&&clearTimeout(o)}function p(){h(),n.kill(new J(void 0,"timeout","block timeout reached"))}r&&((i=n.spawned.stdout)==null||i.on("data",f)),t&&((a=n.spawned.stderr)==null||a.on("data",f)),n.spawned.on("exit",h),n.spawned.on("close",h),f()}}}var To=u({"src/lib/plugins/timout-plugin.ts"(){Qe()}}),Co=u({"src/lib/plugins/index.ts"(){eo(),io(),oo(),co(),ho(),mo(),vo(),_o(),yo(),To()}});function So(){return{type:"spawn.args",action(e){let t=[],r;function s(n){(r=r||[]).push(...n)}for(let n=0;n<e.length;n++){let i=e[n];if(ze(i)){s(Cr(i));continue}if(i==="--"){s(e.slice(n+1).flatMap(a=>ze(a)&&Cr(a)||a));break}t.push(i)}return r?[...t,"--",...r.map(String)]:t}}}var Oo=u({"src/lib/plugins/suffix-paths.plugin.ts"(){Oe()}});function Ro(){return(0,$e.default)("simple-git")}function Rr(e,t,r){return!t||!String(t).replace(/\s*/,"")?r?(s,...n)=>{e(s,...n),r(s,...n)}:e:(s,...n)=>{e(`%s ${s}`,t,...n),r&&r(s,...n)}}function Eo(e,t,{namespace:r}){if(typeof e=="string")return e;let s=t&&t.namespace||"";return s.startsWith(r)?s.substr(r.length+1):s||r}function Yt(e,t,r,s=Ro()){let n=e&&`[${e}]`||"",i=[],a=typeof t=="string"?s.extend(t):t,o=Eo(Y(t,F),a,s);return h(r);function f(p,l){return b(i,Yt(e,o.replace(/^[^:]+/,p),l,s))}function h(p){let l=p&&`[${p}]`||"",d=a&&Rr(a,l)||ne,m=Rr(s,`${n} ${l}`,d);return Object.assign(a?d:m,{label:e,sibling:f,info:m,step:h})}}var $e,Vs=u({"src/lib/git-logger.ts"(){$e=ya(pt()),v(),$e.default.formatters.L=e=>String(Dt(e)?e.length:"-"),$e.default.formatters.B=e=>Buffer.isBuffer(e)?e.toString("utf8"):Ee(e)}}),De,St,xo=u({"src/lib/runners/tasks-pending-queue.ts"(){K(),Vs(),De=class{constructor(e="GitExecutor"){this.logLabel=e,this._queue=new Map}withProgress(e){return this._queue.get(e)}createProgress(e){let t=De.getName(e.commands[0]),r=Yt(this.logLabel,t);return{task:e,logger:r,name:t}}push(e){let t=this.createProgress(e);return t.logger("Adding task to the queue, commands = %o",e.commands),this._queue.set(e,t),t}fatal(e){for(let[t,{logger:r}]of Array.from(this._queue.entries()))t===e.task?(r.info("Failed %o",e),r("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):r.info("A fatal exception occurred in a previous task, the queue has been purged: %o",e.message),this.complete(t);if(this._queue.size!==0)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(e){this.withProgress(e)&&this._queue.delete(e)}attempt(e){let t=this.withProgress(e);if(!t)throw new W(void 0,"TasksPendingQueue: attempt called for an unknown task");return t.logger("Starting task"),t}static getName(e="empty"){return`task:${e}:${++De.counter}`}},St=De,St.counter=0}});function fe(e,t){return{method:cs(e.commands)||"",commands:t}}function Ao(e,t){return r=>{t("[ERROR] child process exception %o",r),e.push(Buffer.from(String(r.stack),"ascii"))}}function Er(e,t,r,s){return n=>{r("%s received %L bytes",t,n),s("%B",n),e.push(n)}}var xr,Ot,Fo=u({"src/lib/runners/git-executor-chain.ts"(){xr=require("child_process"),K(),O(),v(),xo(),Ot=class{constructor(e,t,r){this._executor=e,this._scheduler=t,this._plugins=r,this._chain=Promise.resolve(),this._queue=new St}get binary(){return this._executor.binary}get cwd(){return this._cwd||this._executor.cwd}set cwd(e){this._cwd=e}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(e){return this._queue.push(e),this._chain=this._chain.then(()=>this.attemptTask(e))}attemptTask(e){return ve(this,null,function*(){let t=yield this._scheduler.next(),r=()=>this._queue.complete(e);try{let{logger:s}=this._queue.attempt(e);return yield Fs(e)?this.attemptEmptyTask(e,s):this.attemptRemoteTask(e,s)}catch(s){throw this.onFatalException(e,s)}finally{r(),t()}})}onFatalException(e,t){let r=t instanceof W?Object.assign(t,{task:e}):new W(e,t&&String(t));return this._chain=Promise.resolve(),this._queue.fatal(r),r}attemptRemoteTask(e,t){return ve(this,null,function*(){let r=this._plugins.exec("spawn.args",[...e.commands],fe(e,e.commands)),s=yield this.gitResponse(e,this.binary,r,this.outputHandler,t.step("SPAWN")),n=yield this.handleTaskData(e,r,s,t.step("HANDLE"));return t("passing response to task's parser as a %s",e.format),As(e)?kt(e.parser,n):kt(e.parser,n.asStrings())})}attemptEmptyTask(e,t){return ve(this,null,function*(){return t("empty task bypassing child process to call to task's parser"),e.parser(this)})}handleTaskData(e,t,r,s){let{exitCode:n,rejection:i,stdOut:a,stdErr:o}=r;return new Promise((f,h)=>{s("Preparing to handle process response exitCode=%d stdOut=",n);let{error:p}=this._plugins.exec("task.error",{error:i},U(U({},fe(e,t)),r));if(p&&e.onError)return s.info("exitCode=%s handling with custom error handler"),e.onError(r,p,l=>{s.info("custom error handler treated as success"),s("custom error returned a %s",Ee(l)),f(new Ce(Array.isArray(l)?Buffer.concat(l):l,Buffer.concat(o)))},h);if(p)return s.info("handling as error: exitCode=%s stdErr=%s rejection=%o",n,o.length,i),h(p);s.info("retrieving task output complete"),f(new Ce(Buffer.concat(a),Buffer.concat(o)))})}gitResponse(e,t,r,s,n){return ve(this,null,function*(){let i=n.sibling("output"),a=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},fe(e,e.commands));return new Promise(o=>{let f=[],h=[];n.info("%s %o",t,r),n("%O",a);let p=this._beforeSpawn(e,r);if(p)return o({stdOut:f,stdErr:h,exitCode:9901,rejection:p});this._plugins.exec("spawn.before",void 0,_e(U({},fe(e,r)),{kill(d){p=d||p}}));let l=(0,xr.spawn)(t,r,a);l.stdout.on("data",Er(f,"stdOut",n,i.step("stdOut"))),l.stderr.on("data",Er(h,"stdErr",n,i.step("stdErr"))),l.on("error",Ao(h,n)),s&&(n("Passing child process stdOut/stdErr to custom outputHandler"),s(t,l.stdout,l.stderr,[...r])),this._plugins.exec("spawn.after",void 0,_e(U({},fe(e,r)),{spawned:l,close(d,m){o({stdOut:f,stdErr:h,exitCode:d,rejection:p||m})},kill(d){l.killed||(p=d,l.kill("SIGINT"))}}))})})}_beforeSpawn(e,t){let r;return this._plugins.exec("spawn.before",void 0,_e(U({},fe(e,t)),{kill(s){r=s||r}})),r}}}}),Js={};C(Js,{GitExecutor:()=>Qs});var Qs,Io=u({"src/lib/runners/git-executor.ts"(){Fo(),Qs=class{constructor(e="git",t,r,s){this.binary=e,this.cwd=t,this._scheduler=r,this._plugins=s,this._chain=new Ot(this,this._scheduler,this._plugins)}chain(){return new Ot(this,this._scheduler,this._plugins)}push(e){return this._chain.push(e)}}}});function Mo(e,t,r=ne){let s=i=>{r(null,i)},n=i=>{i?.task===e&&r(i instanceof se?Po(i):i,void 0)};t.then(s,n)}function Po(e){let t=s=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${s} should be GitResponseError.git.${s}, this will no longer be available in version 3`),t=ne};return Object.create(e,Object.getOwnPropertyNames(e.git).reduce(r,{}));function r(s,n){return n in e||(s[n]={enumerable:!1,configurable:!1,get(){return t(n),e.git[n]}}),s}}var Lo=u({"src/lib/task-callback.ts"(){me(),v()}});function Ar(e,t){return Es(r=>{if(!qt(e))throw new Error(`Git.cwd: cannot change to non-directory "${e}"`);return(t||r).cwd=e})}var qo=u({"src/lib/tasks/change-working-directory.ts"(){v(),O()}});function mt(e){let t=["checkout",...e];return t[1]==="-b"&&t.includes("-B")&&(t[1]=Xe(t,"-B")),j(t)}function jo(){return{checkout(){return this._runTask(mt(L(arguments,1)),S(arguments))},checkoutBranch(e,t){return this._runTask(mt(["-b",e,t,...L(arguments)]),S(arguments))},checkoutLocalBranch(e){return this._runTask(mt(["-b",e,...L(arguments)]),S(arguments))}}}var Bo=u({"src/lib/tasks/checkout.ts"(){v(),O()}});function Do(e){return $({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},Xs,e)}var Xs,No=u({"src/lib/parsers/parse-commit.ts"(){v(),Xs=[new _(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(e,[t,r,s])=>{e.branch=t,e.commit=s,e.root=!!r}),new _(/\s*Author:\s(.+)/i,(e,[t])=>{let r=t.split("<"),s=r.pop();!s||!s.includes("@")||(e.author={email:s.substr(0,s.length-1),name:r.join("<").trim()})}),new _(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(e,[t,r,s])=>{e.summary.changes=parseInt(t,10)||0,e.summary.insertions=parseInt(r,10)||0,e.summary.deletions=parseInt(s,10)||0}),new _(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(e,[t,r,s])=>{e.summary.changes=parseInt(t,10)||0;let n=parseInt(r,10)||0;s==="-"?e.summary.deletions=n:s==="+"&&(e.summary.insertions=n)})]}});function $o(e,t,r){return{commands:["-c","core.abbrev=40","commit",...ke(e,"-m"),...t,...r],format:"utf-8",parser:Do}}function Go(){return{commit(t,...r){let s=S(arguments),n=e(t)||$o(X(t),X(Y(r[0],He,[])),[...Y(r[1],xe,[]),...L(arguments,0,!0)]);return this._runTask(n,s)}};function e(t){return!He(t)&&q("git.commit: requires the commit message to be supplied as a string/string[]")}}var Uo=u({"src/lib/tasks/commit.ts"(){No(),v(),O()}});function zo(e,t){let r=["hash-object",e];return t&&r.push("-w"),j(r,!0)}var Ho=u({"src/lib/tasks/hash-object.ts"(){O()}});function Wo(e,t,r){let s=String(r).trim(),n;if(n=Ks.exec(s))return new Ge(e,t,!1,n[1]);if(n=Zs.exec(s))return new Ge(e,t,!0,n[1]);let i="",a=s.split(" ");for(;a.length;)if(a.shift()==="in"){i=a.join(" ");break}return new Ge(e,t,/^re/i.test(s),i)}var Ge,Ks,Zs,Yo=u({"src/lib/responses/InitSummary.ts"(){Ge=class{constructor(e,t,r,s){this.bare=e,this.path=t,this.existing=r,this.gitDir=s}},Ks=/^Init.+ repository in (.+)$/,Zs=/^Rein.+ in (.+)$/}});function Vo(e){return e.includes(Vt)}function Jo(e=!1,t,r){let s=["init",...r];return e&&!Vo(s)&&s.splice(1,0,Vt),{commands:s,format:"utf-8",parser(n){return Wo(s.includes("--bare"),t,n)}}}var Vt,Qo=u({"src/lib/tasks/init.ts"(){Yo(),Vt="--bare"}});function Jt(e){for(let t=0;t<e.length;t++){let r=Qt.exec(e[t]);if(r)return`--${r[1]}`}return""}function Xo(e){return Qt.test(e)}var Qt,Ae=u({"src/lib/args/log-format.ts"(){Qt=/^--(stat|numstat|name-only|name-status)(=|$)/}}),en,Ko=u({"src/lib/responses/DiffSummary.ts"(){en=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function tn(e=""){let t=rn[e];return r=>$(new en,t,r,!1)}var gt,Fr,Ir,Mr,rn,sn=u({"src/lib/parsers/parse-diff-summary.ts"(){Ae(),Ko(),v(),gt=[new _(/(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/,(e,[t,r,s=""])=>{e.files.push({file:t.trim(),changes:T(r),insertions:s.replace(/[^+]/g,"").length,deletions:s.replace(/[^-]/g,"").length,binary:!1})}),new _(/(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,(e,[t,r,s])=>{e.files.push({file:t.trim(),before:T(r),after:T(s),binary:!0})}),new _(/(\d+) files? changed\s*((?:, \d+ [^,]+){0,2})/,(e,[t,r])=>{let s=/(\d+) i/.exec(r),n=/(\d+) d/.exec(r);e.changed=T(t),e.insertions=T(s?.[1]),e.deletions=T(n?.[1])})],Fr=[new _(/(\d+)\t(\d+)\t(.+)$/,(e,[t,r,s])=>{let n=T(t),i=T(r);e.changed++,e.insertions+=n,e.deletions+=i,e.files.push({file:s,changes:n+i,insertions:n,deletions:i,binary:!1})}),new _(/-\t-\t(.+)$/,(e,[t])=>{e.changed++,e.files.push({file:t,after:0,before:0,binary:!0})})],Ir=[new _(/(.+)$/,(e,[t])=>{e.changed++,e.files.push({file:t,changes:0,insertions:0,deletions:0,binary:!1})})],Mr=[new _(/([ACDMRTUXB])\s*(.+)$/,(e,[t,r])=>{e.changed++,e.files.push({file:r,changes:0,insertions:0,deletions:0,binary:!1})})],rn={"":gt,"--stat":gt,"--numstat":Fr,"--name-status":Mr,"--name-only":Ir}}});function Zo(e,t){return t.reduce((r,s,n)=>(r[s]=e[n]||"",r),Object.create({diff:null}))}function nn(e=Zt,t=an,r=""){let s=tn(r);return function(n){let i=Re(n,!0,Xt).map(function(a){let o=a.trim().split(Kt),f=Zo(o[0].trim().split(e),t);return o.length>1&&o[1].trim()&&(f.diff=s(o[1])),f});return{all:i,latest:i.length&&i[0]||null,total:i.length}}}var Xt,Kt,Zt,an,on=u({"src/lib/parsers/parse-list-log-summary.ts"(){v(),sn(),Ae(),Xt="\xF2\xF2\xF2\xF2\xF2\xF2 ",Kt=" \xF2\xF2",Zt=" \xF2 ",an=["hash","date","message","refs","author_name","author_email"]}}),un={};C(un,{diffSummaryTask:()=>eu,validateLogFormatConfig:()=>tt});function eu(e){let t=Jt(e),r=["diff"];return t===""&&(t="--stat",r.push("--stat=4096")),r.push(...e),tt(r)||{commands:r,format:"utf-8",parser:tn(t)}}function tt(e){let t=e.filter(Xo);if(t.length>1)return q(`Summary flags are mutually exclusive - pick one of ${t.join(",")}`);if(t.length&&e.includes("-z"))return q(`Summary flag ${t} parsing is not compatible with null termination option '-z'`)}var er=u({"src/lib/tasks/diff.ts"(){Ae(),sn(),O()}});function tu(e,t){let r=[],s=[];return Object.keys(e).forEach(n=>{r.push(n),s.push(String(e[n]))}),[r,s.join(t)]}function ru(e){return Object.keys(e).reduce((t,r)=>(r in Rt||(t[r]=e[r]),t),{})}function cn(e={},t=[]){let r=Y(e.splitter,F,Zt),s=!jt(e.format)&&e.format?e.format:{hash:"%H",date:e.strictDate===!1?"%ai":"%aI",message:"%s",refs:"%D",body:e.multiLine?"%B":"%b",author_name:e.mailMap!==!1?"%aN":"%an",author_email:e.mailMap!==!1?"%aE":"%ae"},[n,i]=tu(s,r),a=[],o=[`--pretty=format:${Xt}${i}${Kt}`,...t],f=e.n||e["max-count"]||e.maxCount;if(f&&o.push(`--max-count=${f}`),e.from||e.to){let h=e.symmetric!==!1?"...":"..";a.push(`${e.from||""}${h}${e.to||""}`)}return F(e.file)&&o.push("--follow",ns(e.file)),Nt(ru(e),o),{fields:n,splitter:r,commands:[...o,...a]}}function su(e,t,r){let s=nn(e,t,Jt(r));return{commands:["log",...r],format:"utf-8",parser:s}}function nu(){return{log(...r){let s=S(arguments),n=cn($t(arguments),Y(arguments[0],xe)),i=t(...r)||tt(n.commands)||e(n);return this._runTask(i,s)}};function e(r){return su(r.splitter,r.fields,r.commands)}function t(r,s){return F(r)&&F(s)&&q("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}}var Rt,ln=u({"src/lib/tasks/log.ts"(){Ae(),Oe(),on(),v(),O(),er(),Rt=(e=>(e[e["--pretty"]=0]="--pretty",e[e["max-count"]=1]="max-count",e[e.maxCount=2]="maxCount",e[e.n=3]="n",e[e.file=4]="file",e[e.format=5]="format",e[e.from=6]="from",e[e.to=7]="to",e[e.splitter=8]="splitter",e[e.symmetric=9]="symmetric",e[e.mailMap=10]="mailMap",e[e.multiLine=11]="multiLine",e[e.strictDate=12]="strictDate",e))(Rt||{})}}),Ue,pn,iu=u({"src/lib/responses/MergeSummary.ts"(){Ue=class{constructor(e,t=null,r){this.reason=e,this.file=t,this.meta=r}toString(){return`${this.file}:${this.reason}`}},pn=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),Et,fn,au=u({"src/lib/responses/PullSummary.ts"(){Et=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},fn=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function wt(e){return e.objects=e.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function Pr(e){let t=/^\s*(\d+)/.exec(e),r=/delta (\d+)/i.exec(e);return{count:T(t&&t[1]||"0"),delta:T(r&&r[1]||"0")}}var hn,ou=u({"src/lib/parsers/parse-remote-objects.ts"(){v(),hn=[new Q(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(e,[t,r])=>{let s=t.toLowerCase(),n=wt(e.remoteMessages);Object.assign(n,{[s]:T(r)})}),new Q(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(e,[t,r])=>{let s=t.toLowerCase(),n=wt(e.remoteMessages);Object.assign(n,{[s]:T(r)})}),new Q(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(e,[t,r,s])=>{let n=wt(e.remoteMessages);n.total=Pr(t),n.reused=Pr(r),n.packReused=T(s)})]}});function dn(e,t){return $({remoteMessages:new gn},mn,t)}var mn,gn,wn=u({"src/lib/parsers/parse-remote-messages.ts"(){v(),ou(),mn=[new Q(/^remote:\s*(.+)$/,(e,[t])=>(e.remoteMessages.all.push(t.trim()),!1)),...hn,new Q([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(e,[t])=>{e.remoteMessages.pullRequestUrl=t}),new Q([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(e,[t,r,s])=>{e.remoteMessages.vulnerabilities={count:T(t),summary:r,url:s}})],gn=class{constructor(){this.all=[]}}}});function uu(e,t){let r=$(new fn,vn,[e,t]);return r.message&&r}var Lr,qr,jr,Br,vn,Dr,tr,_n=u({"src/lib/parsers/parse-pull.ts"(){au(),v(),wn(),Lr=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,qr=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,jr=/^(create|delete) mode \d+ (.+)/,Br=[new _(Lr,(e,[t,r,s])=>{e.files.push(t),r&&(e.insertions[t]=r.length),s&&(e.deletions[t]=s.length)}),new _(qr,(e,[t,,r,,s])=>r!==void 0||s!==void 0?(e.summary.changes=+t||0,e.summary.insertions=+r||0,e.summary.deletions=+s||0,!0):!1),new _(jr,(e,[t,r])=>{b(e.files,r),b(t==="create"?e.created:e.deleted,r)})],vn=[new _(/^from\s(.+)$/i,(e,[t])=>void(e.remote=t)),new _(/^fatal:\s(.+)$/,(e,[t])=>void(e.message=t)),new _(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(e,[t,r,s,n])=>{e.branch.local=s,e.hash.local=t,e.branch.remote=n,e.hash.remote=r})],Dr=(e,t)=>$(new Et,Br,[e,t]),tr=(e,t)=>Object.assign(new Et,Dr(e,t),dn(e,t))}}),Nr,bn,$r,cu=u({"src/lib/parsers/parse-merge.ts"(){iu(),v(),_n(),Nr=[new _(/^Auto-merging\s+(.+)$/,(e,[t])=>{e.merges.push(t)}),new _(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(e,[t,r])=>{e.conflicts.push(new Ue(t,r))}),new _(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(e,[t,r,s])=>{e.conflicts.push(new Ue(t,r,{deleteRef:s}))}),new _(/^CONFLICT\s+\((.+)\):/,(e,[t])=>{e.conflicts.push(new Ue(t,null))}),new _(/^Automatic merge failed;\s+(.+)$/,(e,[t])=>{e.result=t})],bn=(e,t)=>Object.assign($r(e,t),tr(e,t)),$r=e=>$(new pn,Nr,e)}});function Gr(e){return e.length?{commands:["merge",...e],format:"utf-8",parser(t,r){let s=bn(t,r);if(s.failed)throw new se(s);return s}}:q("Git.merge requires at least one option")}var lu=u({"src/lib/tasks/merge.ts"(){me(),cu(),O()}});function pu(e,t,r){let s=r.includes("deleted"),n=r.includes("tag")||/^refs\/tags/.test(e),i=!r.includes("new");return{deleted:s,tag:n,branch:!n,new:!i,alreadyUpdated:i,local:e,remote:t}}var Ur,yn,zr,fu=u({"src/lib/parsers/parse-push.ts"(){v(),wn(),Ur=[new _(/^Pushing to (.+)$/,(e,[t])=>{e.repo=t}),new _(/^updating local tracking ref '(.+)'/,(e,[t])=>{e.ref=_e(U({},e.ref||{}),{local:t})}),new _(/^[=*-]\s+([^:]+):(\S+)\s+\[(.+)]$/,(e,[t,r,s])=>{e.pushed.push(pu(t,r,s))}),new _(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(e,[t,r,s])=>{e.branch=_e(U({},e.branch||{}),{local:t,remote:r,remoteName:s})}),new _(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(e,[t,r,s,n])=>{e.update={head:{local:t,remote:r},hash:{from:s,to:n}}})],yn=(e,t)=>{let r=zr(e,t),s=dn(e,t);return U(U({},r),s)},zr=(e,t)=>$({pushed:[]},Ur,[e,t])}}),kn={};C(kn,{pushTagsTask:()=>hu,pushTask:()=>rr});function hu(e={},t){return b(t,"--tags"),rr(e,t)}function rr(e={},t){let r=["push",...t];return e.branch&&r.splice(1,0,e.branch),e.remote&&r.splice(1,0,e.remote),Xe(r,"-v"),b(r,"--verbose"),b(r,"--porcelain"),{commands:r,format:"utf-8",parser:yn}}var Tn=u({"src/lib/tasks/push.ts"(){fu(),v()}});function du(){return{showBuffer(){let e=["show",...L(arguments,1)];return e.includes("--binary")||e.splice(1,0,"--binary"),this._runTask(xs(e),S(arguments))},show(){let e=["show",...L(arguments,1)];return this._runTask(j(e),S(arguments))}}}var mu=u({"src/lib/tasks/show.ts"(){v(),O()}}),Hr,Cn,gu=u({"src/lib/responses/FileStatusSummary.ts"(){Hr=/^(.+) -> (.+)$/,Cn=class{constructor(e,t,r){if(this.path=e,this.index=t,this.working_dir=r,t+r==="R"){let s=Hr.exec(e)||[null,e,e];this.from=s[1]||"",this.path=s[2]||""}}}}});function Wr(e){let[t,r]=e.split(de);return{from:r||t,to:t}}function N(e,t,r){return[`${e}${t}`,r]}function vt(e,...t){return t.map(r=>N(e,r,(s,n)=>b(s.conflicted,n)))}function wu(e,t){let r=t.trim();switch(" "){case r.charAt(2):return s(r.charAt(0),r.charAt(1),r.substr(3));case r.charAt(1):return s(" ",r.charAt(0),r.substr(2));default:return}function s(n,i,a){let o=`${n}${i}`,f=Sn.get(o);f&&f(e,a),o!=="##"&&o!=="!!"&&e.files.push(new Cn(a.replace(/\0.+$/,""),n,i))}}var Yr,Sn,On,vu=u({"src/lib/responses/StatusSummary.ts"(){v(),gu(),Yr=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},Sn=new Map([N(" ","A",(e,t)=>b(e.created,t)),N(" ","D",(e,t)=>b(e.deleted,t)),N(" ","M",(e,t)=>b(e.modified,t)),N("A"," ",(e,t)=>b(e.created,t)&&b(e.staged,t)),N("A","M",(e,t)=>b(e.created,t)&&b(e.staged,t)&&b(e.modified,t)),N("D"," ",(e,t)=>b(e.deleted,t)&&b(e.staged,t)),N("M"," ",(e,t)=>b(e.modified,t)&&b(e.staged,t)),N("M","M",(e,t)=>b(e.modified,t)&&b(e.staged,t)),N("R"," ",(e,t)=>{b(e.renamed,Wr(t))}),N("R","M",(e,t)=>{let r=Wr(t);b(e.renamed,r),b(e.modified,r.to)}),N("!","!",(e,t)=>{b(e.ignored=e.ignored||[],t)}),N("?","?",(e,t)=>b(e.not_added,t)),...vt("A","A","U"),...vt("D","D","U"),...vt("U","A","D","U"),["##",(e,t)=>{let r=/ahead (\d+)/,s=/behind (\d+)/,n=/^(.+?(?=(?:\.{3}|\s|$)))/,i=/\.{3}(\S*)/,a=/\son\s([\S]+)$/,o;o=r.exec(t),e.ahead=o&&+o[1]||0,o=s.exec(t),e.behind=o&&+o[1]||0,o=n.exec(t),e.current=o&&o[1],o=i.exec(t),e.tracking=o&&o[1],o=a.exec(t),e.current=o&&o[1]||e.current,e.detached=/\(no branch\)/.test(t)}]]),On=function(e){let t=e.split(de),r=new Yr;for(let s=0,n=t.length;s<n;){let i=t[s++].trim();i&&(i.charAt(0)==="R"&&(i+=de+(t[s++]||"")),wu(r,i))}return r}}});function _u(e){return{format:"utf-8",commands:["status","--porcelain","-b","-u","--null",...e.filter(r=>!Rn.includes(r))],parser(r){return On(r)}}}var Rn,bu=u({"src/lib/tasks/status.ts"(){vu(),Rn=["--null","-z"]}});function Ve(e=0,t=0,r=0,s="",n=!0){return Object.defineProperty({major:e,minor:t,patch:r,agent:s,installed:n},"toString",{value(){return`${this.major}.${this.minor}.${this.patch}`},configurable:!1,enumerable:!1})}function yu(){return Ve(0,0,0,"",!1)}function ku(){return{version(){return this._runTask({commands:["--version"],format:"utf-8",parser:Tu,onError(e,t,r,s){if(e.exitCode===-2)return r(Buffer.from(sr));s(t)}})}}}function Tu(e){return e===sr?yu():$(Ve(0,0,0,e),En,e)}var sr,En,Cu=u({"src/lib/tasks/version.ts"(){v(),sr="installed=false",En=[new _(/version (\d+)\.(\d+)\.(\d+)(?:\s*\((.+)\))?/,(e,[t,r,s,n=""])=>{Object.assign(e,Ve(T(t),T(r),T(s),n))}),new _(/version (\d+)\.(\d+)\.(\D+)(.+)?$/,(e,[t,r,s,n=""])=>{Object.assign(e,Ve(T(t),T(r),s,n))})]}}),xn={};C(xn,{SimpleGitApi:()=>xt});var xt,Su=u({"src/lib/simple-git-api.ts"(){Lo(),qo(),Bo(),Uo(),js(),$s(),Ho(),Qo(),ln(),lu(),Tn(),mu(),bu(),O(),Cu(),v(),xt=class{constructor(e){this._executor=e}_runTask(e,t){let r=this._executor.chain(),s=r.push(e);return t&&Mo(e,s,t),Object.create(this,{then:{value:s.then.bind(s)},catch:{value:s.catch.bind(s)},_executor:{value:r}})}add(e){return this._runTask(j(["add",...X(e)]),S(arguments))}cwd(e){let t=S(arguments);return typeof e=="string"?this._runTask(Ar(e,this._executor),t):typeof e?.path=="string"?this._runTask(Ar(e.path,e.root&&this._executor||void 0),t):this._runTask(q("Git.cwd: workingDirectory must be supplied as a string"),t)}hashObject(e,t){return this._runTask(zo(e,t===!0),S(arguments))}init(e){return this._runTask(Jo(e===!0,this._executor.cwd,L(arguments)),S(arguments))}merge(){return this._runTask(Gr(L(arguments)),S(arguments))}mergeFromTo(e,t){return F(e)&&F(t)?this._runTask(Gr([e,t,...L(arguments)]),S(arguments,!1)):this._runTask(q("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(e){return this._executor.outputHandler=e,this}push(){let e=rr({remote:Y(arguments[0],F),branch:Y(arguments[1],F)},L(arguments));return this._runTask(e,S(arguments))}stash(){return this._runTask(j(["stash",...L(arguments)]),S(arguments))}status(){return this._runTask(_u(L(arguments)),S(arguments))}},Object.assign(xt.prototype,jo(),Go(),Ya(),Ja(),nu(),du(),ku())}}),An={};C(An,{Scheduler:()=>Fn});var Vr,Jr,Fn,Ou=u({"src/lib/runners/scheduler.ts"(){v(),Vr=ht(),Vs(),Jr=(()=>{let e=0;return()=>{e++;let{promise:t,done:r}=(0,Vr.createDeferred)();return{promise:t,done:r,id:e}}})(),Fn=class{constructor(e=2){this.concurrency=e,this.logger=Yt("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",e)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);return}let e=b(this.running,this.pending.shift());this.logger("Attempting id=%s",e.id),e.done(()=>{this.logger("Completing id=",e.id),Xe(this.running,e),this.schedule()})}next(){let{promise:e,id:t}=b(this.pending,Jr());return this.logger("Scheduling id=%s",t),this.schedule(),e}}}}),In={};C(In,{applyPatchTask:()=>Ru});function Ru(e,t){return j(["apply",...t,...e])}var Eu=u({"src/lib/tasks/apply-patch.ts"(){O()}});function xu(e,t){return{branch:e,hash:t,success:!0}}function Au(e){return{branch:e,hash:null,success:!1}}var Mn,Fu=u({"src/lib/responses/BranchDeleteSummary.ts"(){Mn=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function Pn(e,t){return t===1&&At.test(e)}var Qr,At,Xr,rt,Iu=u({"src/lib/parsers/parse-branch-delete.ts"(){Fu(),v(),Qr=/(\S+)\s+\(\S+\s([^)]+)\)/,At=/^error[^']+'([^']+)'/m,Xr=[new _(Qr,(e,[t,r])=>{let s=xu(t,r);e.all.push(s),e.branches[t]=s}),new _(At,(e,[t])=>{let r=Au(t);e.errors.push(r),e.all.push(r),e.branches[t]=r})],rt=(e,t)=>$(new Mn,Xr,[e,t])}}),Ln,Mu=u({"src/lib/responses/BranchSummary.ts"(){Ln=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(e,t,r,s,n){e==="*"&&(this.detached=t,this.current=r),this.all.push(r),this.branches[r]={current:e==="*",linkedWorkTree:e==="+",name:r,commit:s,label:n}}}}});function Kr(e){return e?e.charAt(0):""}function qn(e){return $(new Ln,jn,e)}var jn,Pu=u({"src/lib/parsers/parse-branch.ts"(){Mu(),v(),jn=[new _(/^([*+]\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(e,[t,r,s,n])=>{e.push(Kr(t),!0,r,s,n)}),new _(/^([*+]\s)?(\S+)\s+([a-z0-9]+)\s?(.*)$/s,(e,[t,r,s,n])=>{e.push(Kr(t),!1,r,s,n)})]}}),Bn={};C(Bn,{branchLocalTask:()=>qu,branchTask:()=>Lu,containsDeleteBranchCommand:()=>Dn,deleteBranchTask:()=>Bu,deleteBranchesTask:()=>ju});function Dn(e){let t=["-d","-D","--delete"];return e.some(r=>t.includes(r))}function Lu(e){let t=Dn(e),r=["branch",...e];return r.length===1&&r.push("-a"),r.includes("-v")||r.splice(1,0,"-v"),{format:"utf-8",commands:r,parser(s,n){return t?rt(s,n).all[0]:qn(s)}}}function qu(){return{format:"utf-8",commands:["branch","-v"],parser:qn}}function ju(e,t=!1){return{format:"utf-8",commands:["branch","-v",t?"-D":"-d",...e],parser(r,s){return rt(r,s)},onError({exitCode:r,stdOut:s},n,i,a){if(!Pn(String(n),r))return a(n);i(s)}}}function Bu(e,t=!1){let r={format:"utf-8",commands:["branch","-v",t?"-D":"-d",e],parser(s,n){return rt(s,n).branches[e]},onError({exitCode:s,stdErr:n,stdOut:i},a,o,f){if(!Pn(String(a),s))return f(a);throw new se(r.parser(Te(i),Te(n)),String(a))}};return r}var Du=u({"src/lib/tasks/branch.ts"(){me(),Iu(),Pu(),v()}}),Nn,Nu=u({"src/lib/responses/CheckIgnore.ts"(){Nn=e=>e.split(/\n/g).map(t=>t.trim()).filter(t=>!!t)}}),$n={};C($n,{checkIgnoreTask:()=>$u});function $u(e){return{commands:["check-ignore",...e],format:"utf-8",parser:Nn}}var Gu=u({"src/lib/tasks/check-ignore.ts"(){Nu()}}),Gn={};C(Gn,{cloneMirrorTask:()=>zu,cloneTask:()=>Un});function Uu(e){return/^--upload-pack(=|$)/.test(e)}function Un(e,t,r){let s=["clone",...r];return F(e)&&s.push(e),F(t)&&s.push(t),s.find(Uu)?q("git.fetch: potential exploit argument blocked."):j(s)}function zu(e,t,r){return b(r,"--mirror"),Un(e,t,r)}var Hu=u({"src/lib/tasks/clone.ts"(){O(),v()}});function Wu(e,t){return $({raw:e,remote:null,branches:[],tags:[],updated:[],deleted:[]},zn,[e,t])}var zn,Yu=u({"src/lib/parsers/parse-fetch.ts"(){v(),zn=[new _(/From (.+)$/,(e,[t])=>{e.remote=t}),new _(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(e,[t,r])=>{e.branches.push({name:t,tracking:r})}),new _(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(e,[t,r])=>{e.tags.push({name:t,tracking:r})}),new _(/- \[deleted]\s+\S+\s*-> (.+)$/,(e,[t])=>{e.deleted.push({tracking:t})}),new _(/\s*([^.]+)\.\.(\S+)\s+(\S+)\s*-> (.+)$/,(e,[t,r,s,n])=>{e.updated.push({name:s,tracking:n,to:r,from:t})})]}}),Hn={};C(Hn,{fetchTask:()=>Ju});function Vu(e){return/^--upload-pack(=|$)/.test(e)}function Ju(e,t,r){let s=["fetch",...r];return e&&t&&s.push(e,t),s.find(Vu)?q("git.fetch: potential exploit argument blocked."):{commands:s,format:"utf-8",parser:Wu}}var Qu=u({"src/lib/tasks/fetch.ts"(){Yu(),O()}});function Xu(e){return $({moves:[]},Wn,e)}var Wn,Ku=u({"src/lib/parsers/parse-move.ts"(){v(),Wn=[new _(/^Renaming (.+) to (.+)$/,(e,[t,r])=>{e.moves.push({from:t,to:r})})]}}),Yn={};C(Yn,{moveTask:()=>Zu});function Zu(e,t){return{commands:["mv","-v",...X(e),t],format:"utf-8",parser:Xu}}var ec=u({"src/lib/tasks/move.ts"(){Ku(),v()}}),Vn={};C(Vn,{pullTask:()=>tc});function tc(e,t,r){let s=["pull",...r];return e&&t&&s.splice(1,0,e,t),{commands:s,format:"utf-8",parser(n,i){return tr(n,i)},onError(n,i,a,o){let f=uu(Te(n.stdOut),Te(n.stdErr));if(f)return o(new se(f));o(i)}}}var rc=u({"src/lib/tasks/pull.ts"(){me(),_n(),v()}});function sc(e){let t={};return Jn(e,([r])=>t[r]={name:r}),Object.values(t)}function nc(e){let t={};return Jn(e,([r,s,n])=>{t.hasOwnProperty(r)||(t[r]={name:r,refs:{fetch:"",push:""}}),n&&s&&(t[r].refs[n.replace(/[^a-z]/g,"")]=s)}),Object.values(t)}function Jn(e,t){Lt(e,r=>t(r.split(/\s+/)))}var ic=u({"src/lib/responses/GetRemoteSummary.ts"(){v()}}),Qn={};C(Qn,{addRemoteTask:()=>ac,getRemotesTask:()=>oc,listRemotesTask:()=>uc,remoteTask:()=>cc,removeRemoteTask:()=>lc});function ac(e,t,r=[]){return j(["remote","add",...r,e,t])}function oc(e){let t=["remote"];return e&&t.push("-v"),{commands:t,format:"utf-8",parser:e?nc:sc}}function uc(e=[]){let t=[...e];return t[0]!=="ls-remote"&&t.unshift("ls-remote"),j(t)}function cc(e=[]){let t=[...e];return t[0]!=="remote"&&t.unshift("remote"),j(t)}function lc(e){return j(["remote","remove",e])}var pc=u({"src/lib/tasks/remote.ts"(){ic(),O()}}),Xn={};C(Xn,{stashListTask:()=>fc});function fc(e={},t){let r=cn(e),s=["stash","list",...r.commands,...t],n=nn(r.splitter,r.fields,Jt(s));return tt(s)||{commands:s,format:"utf-8",parser:n}}var hc=u({"src/lib/tasks/stash-list.ts"(){Ae(),on(),er(),ln()}}),Kn={};C(Kn,{addSubModuleTask:()=>dc,initSubModuleTask:()=>mc,subModuleTask:()=>st,updateSubModuleTask:()=>gc});function dc(e,t){return st(["add",e,t])}function mc(e){return st(["init",...e])}function st(e){let t=[...e];return t[0]!=="submodule"&&t.unshift("submodule"),j(t)}function gc(e){return st(["update",...e])}var wc=u({"src/lib/tasks/sub-module.ts"(){O()}});function vc(e,t){let r=isNaN(e),s=isNaN(t);return r!==s?r?1:-1:r?Zn(e,t):0}function Zn(e,t){return e===t?0:e>t?1:-1}function _c(e){return e.trim()}function Ne(e){return typeof e=="string"&&parseInt(e.replace(/^\D+/g,""),10)||0}var Zr,ei,bc=u({"src/lib/responses/TagList.ts"(){Zr=class{constructor(e,t){this.all=e,this.latest=t}},ei=function(e,t=!1){let r=e.split(`
`).map(_c).filter(Boolean);t||r.sort(function(n,i){let a=n.split("."),o=i.split(".");if(a.length===1||o.length===1)return vc(Ne(a[0]),Ne(o[0]));for(let f=0,h=Math.max(a.length,o.length);f<h;f++){let p=Zn(Ne(a[f]),Ne(o[f]));if(p)return p}return 0});let s=t?r[0]:[...r].reverse().find(n=>n.indexOf(".")>=0);return new Zr(r,s)}}}),ti={};C(ti,{addAnnotatedTagTask:()=>Tc,addTagTask:()=>kc,tagListTask:()=>yc});function yc(e=[]){let t=e.some(r=>/^--sort=/.test(r));return{format:"utf-8",commands:["tag","-l",...e],parser(r){return ei(r,t)}}}function kc(e){return{format:"utf-8",commands:["tag",e],parser(){return{name:e}}}}function Tc(e,t){return{format:"utf-8",commands:["tag","-a","-m",t,e],parser(){return{name:e}}}}var Cc=u({"src/lib/tasks/tag.ts"(){bc()}}),Sc=ba({"src/git.js"(e,t){var{GitExecutor:r}=(Io(),k(Js)),{SimpleGitApi:s}=(Su(),k(xn)),{Scheduler:n}=(Ou(),k(An)),{configurationErrorTask:i}=(O(),k(Tt)),{asArray:a,filterArray:o,filterPrimitives:f,filterString:h,filterStringOrStringArray:p,filterType:l,getTrailingOptions:d,trailingFunctionArgument:m,trailingOptionsArgument:E}=(v(),k(_s)),{applyPatchTask:A}=(Eu(),k(In)),{branchTask:I,branchLocalTask:V,deleteBranchesTask:ie,deleteBranchTask:nt}=(Du(),k(Bn)),{checkIgnoreTask:ae}=(Gu(),k($n)),{checkIsRepoTask:ir}=(Ts(),k(bs)),{cloneTask:ge,cloneMirrorTask:it}=(Hu(),k(Gn)),{cleanWithOptionsTask:Ie,isCleanOptionsArray:at}=(Ps(),k(Is)),{diffSummaryTask:mi}=(er(),k(un)),{fetchTask:gi}=(Qu(),k(Hn)),{moveTask:wi}=(ec(),k(Yn)),{pullTask:vi}=(rc(),k(Vn)),{pushTagsTask:_i}=(Tn(),k(kn)),{addRemoteTask:bi,getRemotesTask:yi,listRemotesTask:ki,remoteTask:Ti,removeRemoteTask:Ci}=(pc(),k(Qn)),{getResetMode:Si,resetTask:Oi}=(Hs(),k(Gs)),{stashListTask:Ri}=(hc(),k(Xn)),{addSubModuleTask:Ei,initSubModuleTask:xi,subModuleTask:Ai,updateSubModuleTask:Fi}=(wc(),k(Kn)),{addAnnotatedTagTask:Ii,addTagTask:Mi,tagListTask:Pi}=(Cc(),k(ti)),{straightThroughBufferTask:Li,straightThroughStringTask:H}=(O(),k(Tt));function w(c,g){this._executor=new r(c.binary,c.baseDir,new n(c.maxConcurrentProcesses),g),this._trimmed=c.trimmed}(w.prototype=Object.create(s.prototype)).constructor=w,w.prototype.customBinary=function(c){return this._executor.binary=c,this},w.prototype.env=function(c,g){return arguments.length===1&&typeof c=="object"?this._executor.env=c:(this._executor.env=this._executor.env||{})[c]=g,this},w.prototype.stashList=function(c){return this._runTask(Ri(E(arguments)||{},o(c)&&c||[]),m(arguments))};function ar(c,g,y,M){return typeof y!="string"?i(`git.${c}() requires a string 'repoPath'`):g(y,l(M,h),d(arguments))}w.prototype.clone=function(){return this._runTask(ar("clone",ge,...arguments),m(arguments))},w.prototype.mirror=function(){return this._runTask(ar("mirror",it,...arguments),m(arguments))},w.prototype.mv=function(c,g){return this._runTask(wi(c,g),m(arguments))},w.prototype.checkoutLatestTag=function(c){var g=this;return this.pull(function(){g.tags(function(y,M){g.checkout(M.latest,c)})})},w.prototype.pull=function(c,g,y,M){return this._runTask(vi(l(c,h),l(g,h),d(arguments)),m(arguments))},w.prototype.fetch=function(c,g){return this._runTask(gi(l(c,h),l(g,h),d(arguments)),m(arguments))},w.prototype.silent=function(c){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},w.prototype.tags=function(c,g){return this._runTask(Pi(d(arguments)),m(arguments))},w.prototype.rebase=function(){return this._runTask(H(["rebase",...d(arguments)]),m(arguments))},w.prototype.reset=function(c){return this._runTask(Oi(Si(c),d(arguments)),m(arguments))},w.prototype.revert=function(c){let g=m(arguments);return typeof c!="string"?this._runTask(i("Commit must be a string"),g):this._runTask(H(["revert",...d(arguments,0,!0),c]),g)},w.prototype.addTag=function(c){let g=typeof c=="string"?Mi(c):i("Git.addTag requires a tag name");return this._runTask(g,m(arguments))},w.prototype.addAnnotatedTag=function(c,g){return this._runTask(Ii(c,g),m(arguments))},w.prototype.deleteLocalBranch=function(c,g,y){return this._runTask(nt(c,typeof g=="boolean"?g:!1),m(arguments))},w.prototype.deleteLocalBranches=function(c,g,y){return this._runTask(ie(c,typeof g=="boolean"?g:!1),m(arguments))},w.prototype.branch=function(c,g){return this._runTask(I(d(arguments)),m(arguments))},w.prototype.branchLocal=function(c){return this._runTask(V(),m(arguments))},w.prototype.raw=function(c){let g=!Array.isArray(c),y=[].slice.call(g?arguments:c,0);for(let z=0;z<y.length&&g;z++)if(!f(y[z])){y.splice(z,y.length-z);break}y.push(...d(arguments,0,!0));var M=m(arguments);return y.length?this._runTask(H(y,this._trimmed),M):this._runTask(i("Raw: must supply one or more command to execute"),M)},w.prototype.submoduleAdd=function(c,g,y){return this._runTask(Ei(c,g),m(arguments))},w.prototype.submoduleUpdate=function(c,g){return this._runTask(Fi(d(arguments,!0)),m(arguments))},w.prototype.submoduleInit=function(c,g){return this._runTask(xi(d(arguments,!0)),m(arguments))},w.prototype.subModule=function(c,g){return this._runTask(Ai(d(arguments)),m(arguments))},w.prototype.listRemote=function(){return this._runTask(ki(d(arguments)),m(arguments))},w.prototype.addRemote=function(c,g,y){return this._runTask(bi(c,g,d(arguments)),m(arguments))},w.prototype.removeRemote=function(c,g){return this._runTask(Ci(c),m(arguments))},w.prototype.getRemotes=function(c,g){return this._runTask(yi(c===!0),m(arguments))},w.prototype.remote=function(c,g){return this._runTask(Ti(d(arguments)),m(arguments))},w.prototype.tag=function(c,g){let y=d(arguments);return y[0]!=="tag"&&y.unshift("tag"),this._runTask(H(y),m(arguments))},w.prototype.updateServerInfo=function(c){return this._runTask(H(["update-server-info"]),m(arguments))},w.prototype.pushTags=function(c,g){let y=_i({remote:l(c,h)},d(arguments));return this._runTask(y,m(arguments))},w.prototype.rm=function(c){return this._runTask(H(["rm","-f",...a(c)]),m(arguments))},w.prototype.rmKeepLocal=function(c){return this._runTask(H(["rm","--cached",...a(c)]),m(arguments))},w.prototype.catFile=function(c,g){return this._catFile("utf-8",arguments)},w.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},w.prototype._catFile=function(c,g){var y=m(g),M=["cat-file"],z=g[0];if(typeof z=="string")return this._runTask(i("Git.catFile: options must be supplied as an array of strings"),y);Array.isArray(z)&&M.push.apply(M,z);let ot=c==="buffer"?Li(M):H(M);return this._runTask(ot,y)},w.prototype.diff=function(c,g){let y=h(c)?i("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):H(["diff",...d(arguments)]);return this._runTask(y,m(arguments))},w.prototype.diffSummary=function(){return this._runTask(mi(d(arguments,1)),m(arguments))},w.prototype.applyPatch=function(c){let g=p(c)?A(a(c),d([].slice.call(arguments,1))):i("git.applyPatch requires one or more string patches as the first argument");return this._runTask(g,m(arguments))},w.prototype.revparse=function(){let c=["rev-parse",...d(arguments,!0)];return this._runTask(H(c,!0),m(arguments))},w.prototype.clean=function(c,g,y){let M=at(c),z=M&&c.join("")||l(c,h)||"",ot=d([].slice.call(arguments,M?1:0));return this._runTask(Ie(z,ot),m(arguments))},w.prototype.exec=function(c){let g={commands:[],format:"utf-8",parser(){typeof c=="function"&&c()}};return this._runTask(g)},w.prototype.clearQueue=function(){return this},w.prototype.checkIgnore=function(c,g){return this._runTask(ae(a(l(c,p,[]))),m(arguments))},w.prototype.checkIsRepo=function(c,g){return this._runTask(ir(l(c,h)),m(arguments))},t.exports=w}}),ri={};C(ri,{esModuleFactory:()=>Oc,gitExportFactory:()=>Rc,gitInstanceFactory:()=>si});function Oc(e){return Object.defineProperties(e,{__esModule:{value:!0},default:{value:e}})}function Rc(e){return Object.assign(e.bind(null),Ws)}function si(e,t){let r=new Ys,s=ws(e&&(typeof e=="string"?{baseDir:e}:e)||{},t);if(!qt(s.baseDir))throw new Mt(s,"Cannot use simple-git on a directory that does not exist");return Array.isArray(s.config)&&r.add(ao(s.config)),r.add(no(s.unsafe)),r.add(So()),r.add(uo(s.completion)),s.abort&&r.add(Za(s.abort)),s.progress&&r.add(go(s.progress)),s.timeout&&r.add(ko(s.timeout)),s.spawnOptions&&r.add(bo(s.spawnOptions)),r.add(Or(fo(!0))),s.errors&&r.add(Or(s.errors)),new ni(s,r)}var ni,ii=u({"src/lib/git-factory.ts"(){Ka(),Co(),Oo(),v(),ni=Sc()}}),ai={};C(ai,{gitP:()=>Ec});function Ec(...e){let t,r=Promise.resolve();try{t=si(...e)}catch(f){r=Promise.reject(f)}function s(){return i}function n(){return r}let i=[...oi,...Ft].reduce((f,h)=>{let p=Ft.includes(h),l=p?a(h,t):o(h,t,f);return Object.defineProperty(f,h,{enumerable:!1,configurable:!1,value:t?l:p?n:s}),f},{});return i;function a(f,h){return function(...p){if(typeof p[p.length]=="function")throw new TypeError("Promise interface requires that handlers are not supplied inline, trailing function not allowed in call to "+f);return r.then(function(){return new Promise(function(l,d){let m=(E,A)=>{if(E)return d(xc(E));l(A)};p.push(m),h[f].apply(h,p)})})}}function o(f,h,p){return(...l)=>(h[f](...l),p)}}function xc(e){return e instanceof Error?e:typeof e=="string"?new Error(e):new se(e)}var oi,Ft,Ac=u({"src/lib/runners/promise-wrapped.ts"(){me(),ii(),oi=["customBinary","env","outputHandler","silent"],Ft=["add","addAnnotatedTag","addConfig","addRemote","addTag","applyPatch","binaryCatFile","branch","branchLocal","catFile","checkIgnore","checkIsRepo","checkout","checkoutBranch","checkoutLatestTag","checkoutLocalBranch","clean","clone","commit","cwd","deleteLocalBranch","deleteLocalBranches","diff","diffSummary","exec","fetch","getRemotes","init","listConfig","listRemote","log","merge","mergeFromTo","mirror","mv","pull","push","pushTags","raw","rebase","remote","removeRemote","reset","revert","revparse","rm","rmKeepLocal","show","stash","stashList","status","subModule","submoduleAdd","submoduleInit","submoduleUpdate","tag","tags","updateServerInfo"]}}),{gitP:Fc}=(Ac(),k(ai)),{esModuleFactory:Ic,gitInstanceFactory:Mc,gitExportFactory:Pc}=(ii(),k(ri)),es=Ic(Pc(Mc));ui.exports=Object.assign(es,{gitP:Fc,simpleGit:es})});var pi=P((Ml,li)=>{"use strict";var Z=require("vscode"),Lc=ci(),{exec:qc}=require("child_process");async function jc(e){let t=Z.commands.registerCommand("extension.openJiraTicket",async()=>{Bc()}),r=Z.window.createStatusBarItem(Z.StatusBarAlignment.Left,10001);r.text="$(notebook-render-output)  Ticket Jira",r.tooltip="Ouvrir le ticket Jira",r.command="extension.openJiraTicket",r.show(),e.subscriptions.push(r,t)}async function Bc(){let e=Z.workspace.rootPath,r=await Lc(e).branch((s,n)=>{let i=n.current;if(i){let a=/\d{5}/,o=i.match(a);if(o){let f=Z.workspace.getConfiguration("NeoteemExtension"),h=f.get("chromeProfile"),l=`${f.get("urlProject")}${o}`,m=`"C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe" --profile-directory="${h}" "${l}"`;qc(m,(E,A,I)=>{E?console.error(`Error opening Chrome: ${E.message}`):console.log(`Chrome opened with profile: ${h}`)})}else Z.window.showErrorMessage("Aucun num\xE9ro de ticket trouv\xE9 dans le nom de la branche.");return o}else Z.window.showWarningMessage("You are not on any branch.")});Z.window.showWarningMessage(r)}li.exports={OuvrirtTicketJira:jc}});var fi=P((Pl,Dc)=>{Dc.exports={ws:"http://localhost:8083","ws-LOCAL":"http://localhost:8083","ws-TEST":"https://ws-test-u6jz7q4bga-ew.a.run.app","ws-PREPROD":"https://ws-preprod-sn36ra5rrq-ew.a.run.app","ws-DEV-2.6":"https://ws-dev-pkg4e5vseq-ew.a.run.app","ws-DEV-2.5":"https://ws-dev2-5-pkg4e5vseq-ew.a.run.app","ws-DEV-2.4":"https://ws-dev2-4-pkg4e5vseq-ew.a.run.app","ws-AGI":"https://ws-agi-cnze6dwr4a-ew.a.run.app","ws-ATRIUM-8":"https://ws-atrium8-yosvxhi3gq-ew.a.run.app","ws-ATRIUM-15":"https://ws-atrium15-s2257cef2q-ew.a.run.app","ws-ATRIUM-17":"https://ws-atrium17-uto2k4yt7q-ew.a.run.app","ws-ATRIUM-A2BCD":"https://ws-a2bcd-vhcoelr7oa-ew.a.run.app","ws-ATRIUM-PGLANCE":"https://ws-pglance-h67vc5d6sq-ew.a.run.app","ws-ATRIUM-PROGESTRA":"https://ws-progestra-wff45uig4q-ew.a.run.app","ws-ATRIUM-SEGINE":"https://ws-segine-ys76qo2xlq-ew.a.run.app","ws-ATRIUM-SOGI":"https://ws-sogi-srzcylkd5a-ew.a.run.app","ws-ATRIUM-SOGI-2":"https://ws-sogi2-foytq62t5a-ew.a.run.app","ws-ATRIUM-SOUTOUL":"https://ws-soutoul-qa77wetplq-ew.a.run.app","ws-BERGER":"https://ws-berger-uj5vdoguja-ew.a.run.app","ws-BGI":"https://ws-bgi-xb7juzsl4a-ew.a.run.app","ws-BGM":"https://ws-bgm-k6kk7dx24q-ew.a.run.app","ws-CARRON":"https://ws-carron-7pogsfqzla-ew.a.run.app","ws-CGIMMO-AMPHOUX":"https://ws-amphoux-23dg2shnxa-ew.a.run.app","ws-CGIMMO-CGENTREPRISE":"https://ws-cgentreprise-ihllkxlqrq-ew.a.run.app","ws-CGIMMO-CGIMMOBILIER":"https://ws-cgimmobilier-t3ztoucipq-ew.a.run.app","ws-CGIR":"https://ws-cgir-ktonsvi3aq-ew.a.run.app","ws-CIAD":"https://ws-ciad-kzmyfcbg5a-ew.a.run.app","ws-CILEAD":"https://ws-cilead-pp4xrk6ivq-ew.a.run.app","ws-COME":"https://ws-come-wzmowvlufq-ew.a.run.app","ws-DESAULLES":"https://ws-desaulles-pltnc72y2a-ew.a.run.app","ws-DURAND":"https://ws-durand-764ikxyana-ew.a.run.app","ws-DURANDIMMOMONTAGNE":"https://ws-durandimmomontagne-hulxi4pcfa-ew.a.run.app","ws-NEYRAT":"https://ws-neyrat-3sx673g5lq-ew.a.run.app","ws-FRANCHET":"https://ws-franchet-wetz2dcypq-ew.a.run.app","ws-GAURIAU":"https://ws-gauriau-tvhx275fpq-ew.a.run.app","ws-CGI-GRECH":"https://ws-grechimmo-ow2cjhcvtq-ew.a.run.app","ws-GRIFFATON":"https://ws-mxgriffaton-fjukapsz3q-ew.a.run.app","ws-I2MSYNDIC":"https://ws-i2msyndic-veqi3gxxma-ew.a.run.app","ws-IFNOR":"https://ws-ifnor-rmmmlshhsq-ew.a.run.app","ws-IMMEXIS-CARNOUX":"https://ws-carnouximmo-ydqo2n5lta-ew.a.run.app","ws-IMMEXIS-SIABIMMO":"https://ws-siabimmo-ydqo2n5lta-ew.a.run.app","ws-IMMEXIS-THINOT":"https://ws-thinot-ydqo2n5lta-ew.a.run.app","ws-IMMODEFRANCEFV":"https://ws-idf-dunnmiutiq-ew.a.run.app","ws-JPM":"https://ws-jpm-2n4q6pahsa-ew.a.run.app","ws-LEOPOLD":"https://ws-leopold-iqw5sccz4q-ew.a.run.app","ws-LOGESYC":"https://ws-logesyc-h6trdrbwaq-ew.a.run.app","ws-LOGESYC-4CANTONS":"https://ws-4cantons-h6trdrbwaq-ew.a.run.app","ws-MAZET":"https://ws-mazet-ep4yuuxh4q-ew.a.run.app","ws-MAZETDEUX":"https://ws-mazetdeux-ep4yuuxh4q-ew.a.run.app","ws-MAZET-BOETIEPARTNERS":"https://ws-boetiepartners-ep4yuuxh4q-ew.a.run.app","ws-MDC":"https://ws-mdc1-473nva46sq-ew.a.run.app","ws-MDC-F":"https://ws-mdcf-473nva46sq-ew.a.run.app","ws-MDC-DI":"https://ws-di-473nva46sq-ew.a.run.app","ws-MDC-PMR":"https://ws-pmr-473nva46sq-ew.a.run.app","ws-MOISON":"https://ws-moison-flluyvbwdq-ew.a.run.app","ws-OCIM":"https://ws-ocim-mmbnj277ma-ew.a.run.app","ws-OLLIADE":"https://ws-olliade-n25dnocbuq-ew.a.run.app","ws-PAUTRAT":"https://ws-pautrat-rpthcvmvbq-ew.a.run.app","ws-PIERRESDEPARIS":"https://ws-pierresdeparis-vjhzquhhqq-ew.a.run.app","ws-PLISSON":"https://ws-plisson-vrrohvgcia-ew.a.run.app","ws-RICHOU":"https://ws-richou-xfdlnqmpqq-ew.a.run.app","ws-RIFBJ":"https://ws-rifbj-yc4geal5gq-ew.a.run.app","ws-RIZZON-ICR54":"https://ws-icr54-azhjh4mbcq-ew.a.run.app","ws-RIZZON-ICR57":"https://ws-icr57-azhjh4mbcq-ew.a.run.app","ws-SEBASTIANIMMO":"https://ws-sebastianimmo-3bepjkeafq-ew.a.run.app","ws-SECGI":"https://ws-secgi-7ukrx4xlqq-ew.a.run.app","ws-SECGI-ATHENA":"https://ws-athena-7ukrx4xlqq-ew.a.run.app","ws-SOUPIZET":"https://ws-soupizet-n3mjqtze5a-ew.a.run.app","ws-SOUPIZETIMMO":"https://ws-soupizetimmo-n3mjqtze5a-ew.a.run.app","ws-SQH":"https://ws-sqh-fgctc4hd5q-ew.a.run.app","ws-SYMPLICE":"https://ws-symplice-yr4bbj5g4q-ew.a.run.app","ws-SYNALP":"https://ws-synalp-4vmvh3uxrq-ew.a.run.app","ws-THIEBAUD":"https://ws-thiebaud-uus5g3oplq-ew.a.run.app","ws-TRAVERSO-O":"https://ws-otraverso-7m75wouema-ew.a.run.app","ws-TRAVERSO-R":"https://ws-rtraverso-jhv2tjg3qq-ew.a.run.app","ws-TRAVERSO-V":"https://ws-vtraverso-ajauflqiba-ew.a.run.app","ws-THIERRY-TI":"https://ws-thierryti-x77dik4jea-ew.a.run.app","ws-THIERRY-TIA":"https://ws-thierrytia-x77dik4jea-ew.a.run.app","ws-THIERRY-TIB":"https://ws-thierrytib-x77dik4jea-ew.a.run.app"}});var di=P((ql,hi)=>{"use strict";var{json:Ll}=require("node:stream/consumers"),Fe=require("vscode"),nr=require("fs"),Nc=fi();async function $c(e){let t=Fe.workspace.workspaceFolders[0].uri.fsPath+"/public/config/env.json",r={};try{r=require(t)}catch{try{nr.mkdirSync(Fe.workspace.workspaceFolders[0].uri.fsPath+"/public/config",{recursive:!0}),nr.writeFileSync(t,JSON.stringify(r,null,2))}catch(o){console.log(o)}}r={...Nc,...r};let s=r.ws,n=Object.keys(r).filter(a=>a!=="ws"),i=await Fe.window.showQuickPick(n,{placeHolder:`Selectionnez un WS (actuel: ${s})`});i&&(Fe.window.showInformationMessage(`WS selectionn\xE9: ${i} (${r[i]})`),r.ws=r[i],nr.writeFileSync(t,JSON.stringify(r,null,2)))}function Gc(e){let t=Fe.commands.registerCommand("neoteem-tools.selectEnv",function(){$c(e)});e.subscriptions.push(t)}hi.exports={SelectEnv:Gc}});var{OuvrirProjetBB:Uc}=ur(),{OuvrirtTicketJira:zc}=pi(),{SelectEnv:Hc}=di();async function Wc(e){zc(e),Uc(e),Hc(e)}module.exports={activate:Wc};
